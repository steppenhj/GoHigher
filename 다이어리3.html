<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>íˆ¬ì ë‹¤ì´ì–´ë¦¬ | Go Higher</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="navigation.css">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@700;400&display=swap" rel="stylesheet">
  <style>
 /* --- ì „ì—­ ìŠ¤íƒ€ì¼ ë° ë³€ìˆ˜ ì •ì˜ --- */
:root {
    --primary-yellow: #ffe066;
    --primary-orange: #ffaf7b;
    --dark-bg-1: #20263a;
    --dark-bg-2: #232b42;
    --dark-bg-3: #2a3250;
    --input-bg: #283153;
    --text-light: #b7caf8;
    --text-white: #f3f4f8;
    --border-color: #2a3250;
    --shadow-color-dark: rgba(38, 48, 79, 0.20);
    --shadow-color-light: rgba(255, 224, 102, 0.14);
    --font-sans: 'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';
}

/* box-sizing, í°íŠ¸ ë“± ê¸°ë³¸ ì„¤ì • */
* {
    box-sizing: border-box;
}

body {
    background-color: var(--dark-bg-1);
    font-family: var(--font-sans);
    /* ì€ì€í•œ ì˜¤ë¡œë¼ íš¨ê³¼ë¥¼ ìœ„í•œ ë°°ê²½ ê·¸ë¼ë°ì´ì…˜ ì¶”ê°€ */
    background-image: radial-gradient(circle at 15% 25%, rgba(171, 192, 255, 0.1), transparent 40%),
                      radial-gradient(circle at 85% 65%, rgba(255, 224, 102, 0.08), transparent 50%);
}


.diary-main {
    max-width: 520px;
    margin: 0 auto;
    padding: 70px 0 44px 0;
}


/* ---- ì¸í¬ë°” (ì˜¤ë¡œë¼ ìœ ë¦¬ ì¬ì§ˆ ìŠ¤íƒ€ì¼) ---- */
.gh-info-bar {
    /* Glassmorphism íš¨ê³¼ */
    background: linear-gradient(110deg, rgba(35, 43, 66, 0.6), rgba(33, 35, 46, 0.5));
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px); /* Safari ì§€ì› */

    color: var(--text-white); /* ê¸°ë³¸ í…ìŠ¤íŠ¸ ìƒ‰ìƒì„ í°ìƒ‰ ê³„ì—´ë¡œ ë³€ê²½í•˜ì—¬ ê°€ë…ì„± í™•ë³´ */
    border-radius: 18px; /* ì¢€ ë” ë¶€ë“œëŸ¬ìš´ ê³¡ë¥  */
    margin: 20px 18px 40px 18px;
    padding: 24px 28px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2), 
                inset 0 1px 1px rgba(255, 255, 255, 0.05); /* ì…ì²´ê°ì„ ìœ„í•œ ì´ì¤‘ ê·¸ë¦¼ì */
    letter-spacing: 0.01em;
    position: relative;
    overflow: hidden;
    animation: slidefade 0.7s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    border: 1px solid rgba(255, 255, 255, 0.1); /* ìœ ë¦¬ í…Œë‘ë¦¬ íš¨ê³¼ */
}

/* ê´‘ì› ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ */
.gh-info-bar::before {
    content: "";
    position: absolute;
    right: -50px;
    top: -50px;
    width: 150px;
    height: 150px;
    background: radial-gradient(circle, var(--primary-yellow) 0%, transparent 60%);
    opacity: 0; /* í‰ì†Œì—” ìˆ¨ê¹€ */
    filter: blur(40px);
    z-index: 0;
    pointer-events: none;
    animation: aurora-glow 6s infinite ease-in-out;
}

/* ë” ë¶€ë“œëŸ½ê³  ì€ì€í•œ ê´‘ì› ì• ë‹ˆë©”ì´ì…˜ */
@keyframes aurora-glow {
    0%, 100% { transform: translate(0, 0) scale(1); opacity: 0.15; }
    50% { transform: translate(-20px, 20px) scale(1.3); opacity: 0.25; }
}

@keyframes slidefade {
    from { opacity: 0; transform: translateY(-20px); }
    to { opacity: 1; transform: translateY(0); }
}

/* ì œëª© í…ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ */
.gh-info-bar b {
    color: var(--primary-yellow);
    font-size: 1.1em;
    font-weight: 700;
    text-shadow: 0 1px 8px rgba(255, 224, 102, 0.3); /* í…ìŠ¤íŠ¸ì— ë„¤ì˜¨ íš¨ê³¼ */
}

.gh-info-bar span {
    position: relative;
    z-index: 1;
    color: var(--text-light); /* ì„¤ëª… í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
    line-height: 1.6; /* ì¤„ ê°„ê²© í™•ë³´ */
}

/* ---- íƒ­ ë²„íŠ¼ ---- */
.tab-buttons {
    display: flex;
    margin: 0 0 30px 0;
    border-radius: 17px;
    background: var(--dark-bg-1);
    overflow: hidden;
    box-shadow: 0 3px 22px var(--shadow-color-dark);
    border: 1.3px solid var(--border-color);
    position: relative;
}

.tab-btn {
    flex: 1;
    padding: 18px 0 17px 0;
    font-size: 1.1em; /* ê¸°ë³¸ í°íŠ¸ ì‚¬ì´ì¦ˆ ì¡°ì • */
    font-weight: 700; /* êµµê¸° ì¡°ì • */
    letter-spacing: 0.02em;
    background: none;
    border: none;
    cursor: pointer;
    color: var(--text-light);
    transition: all 0.25s ease; /* ëª¨ë“  ì „í™˜ íš¨ê³¼ë¥¼ ë¶€ë“œëŸ½ê²Œ */
    outline: none;
    position: relative;
    z-index: 1;
    border-right: 1px solid var(--dark-bg-2);
}

.tab-btn:last-child {
    border-right: none;
}

.tab-btn.active, .tab-btn:focus {
    background: linear-gradient(93deg, var(--primary-yellow) 56%, var(--primary-orange) 110%);
    color: #181f2d;
    font-size: 1.12em; /* í™œì„± íƒ­ í°íŠ¸ í¬ê¸° ë¯¸ì„¸ ì¡°ì • */
    box-shadow: 0 3px 22px var(--shadow-color-light);
    z-index: 2;
}

/* ë§ˆìš°ìŠ¤ ì˜¬ë ¸ì„ ë•Œ ë” ëª…í™•í•œ í”¼ë“œë°± */
.tab-btn:not(.active):hover {
    background: var(--dark-bg-2);
    color: var(--primary-yellow);
    transform: translateY(-2px); /* ì‚´ì§ ìœ„ë¡œ ì´ë™ */
}

/* ---- ì¹´ë“œ ì˜ì—­ ---- */
.card-box {
    background: linear-gradient(109deg, #202944 88%, #23233a 100%);
    border-radius: 20px;
    box-shadow: 0 12px 40px var(--shadow-color-dark); /* ê·¸ë¦¼ì ê°•í™” */
    padding: 40px 32px 28px 32px;
    margin-bottom: 32px;
    animation: fadein 0.4s ease-out; /* ì• ë‹ˆë©”ì´ì…˜ ë¶€ë“œëŸ½ê²Œ */
    border: 1.2px solid var(--border-color);
    position: relative;
}
@keyframes fadein {
    from {
        opacity: 0;
        transform: translateY(15px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}
.card-title {
    color: var(--primary-yellow);
    font-size: 1.27em;
    font-weight: 800; /* êµµê¸° ì¡°ì • */
    margin-bottom: 28px; /* ì—¬ë°± ì¦ê°€ */
    letter-spacing: 0.02em;
    display: flex;
    align-items: center;
    gap: 9px;
    text-shadow: 0 2px 12px #242a4155;
}

.card-title:before {
    content: "";
    display: inline-block;
    width: 8px;
    height: 24px;
    border-radius: 6px;
    background: linear-gradient(90deg, #ffe066bb, #ffaf7baa 85%);
    margin-right: 7px;
    box-shadow: 0 2px 12px #ffe06644;
}

.form-label {
    color: var(--text-light);
    font-size: 1.05em; /* í°íŠ¸ ì‚¬ì´ì¦ˆ ì¡°ì • */
    margin-bottom: 10px; /* ì—¬ë°± ì¡°ì • */
    display: block;
    font-weight: 600;
}

.goal-input, .principle-input {
    width: 100%;
    padding: 16px; /* íŒ¨ë”© ì¦ê°€ */
    border-radius: 13px;
    border: 2px solid transparent; /* ê¸°ë³¸ í…Œë‘ë¦¬ëŠ” íˆ¬ëª…í•˜ê²Œ */
    background: var(--input-bg);
    color: var(--text-white);
    font-size: 1.1em;
    margin-bottom: 22px;
    outline: none;
    font-family: inherit;
    resize: none;
    transition: border 0.2s ease, background-color 0.2s ease; /* ì „í™˜ íš¨ê³¼ ë¶€ë“œëŸ½ê²Œ */
    box-shadow: 0 2px 10px #181f2d22;
    font-weight: 600;
}

/* í¬ì»¤ìŠ¤ ì‹œ í…Œë‘ë¦¬ ìƒ‰ìƒê³¼ ë°°ê²½ìƒ‰ì„ ë” ëª…í™•í•˜ê²Œ ë³€ê²½ */
.goal-input:focus, .principle-input:focus {
    border: 2px solid var(--primary-yellow);
    background-color: #313961;
}

/* ---- ë²„íŠ¼ ê³µí†µ ìŠ¤íƒ€ì¼ ---- */
.goal-form-btn, .principle-btn {
    width: 100%;
    background: linear-gradient(92deg, var(--primary-yellow) 64%, var(--primary-orange) 100%);
    color: #181f2d;
    font-weight: 800;
    border: none;
    border-radius: 14px;
    font-size: 1.12em;
    padding: 16px 0; /* íŒ¨ë”© ì¦ê°€ */
    cursor: pointer;
    transition: all 0.2s ease; /* ëª¨ë“  ì „í™˜ íš¨ê³¼ */
    box-shadow: 0 4px 20px var(--shadow-color-light);
    margin-top: 6px;
    margin-bottom: 2px;
}

/* ë²„íŠ¼ í˜¸ë²„ ì‹œ ì…ì²´ê° */
.goal-form-btn:not(:disabled):hover, .principle-btn:not(:disabled):hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 25px var(--shadow-color-light);
}


.goal-form-btn:active, .principle-btn:active {
    transform: translateY(-1px); /* í´ë¦­ ì‹œ ì‚´ì§ ë“¤ì–´ê°€ëŠ” íš¨ê³¼ */
    background: linear-gradient(90deg, var(--primary-orange) 80%, var(--primary-yellow) 100%);
    color: #21253c;
}

/* ë¹„í™œì„±í™” ë²„íŠ¼ ìŠ¤íƒ€ì¼ ê°œì„  */
.goal-form-btn:disabled, .principle-btn:disabled {
    filter: grayscale(0.6);
    opacity: 0.6;
    cursor: not-allowed; /* ì»¤ì„œ ëª¨ì–‘ ë³€ê²½ */
    box-shadow: none; /* ê·¸ë¦¼ì ì œê±° */
}

.form-message {
    margin-top: 15px;
    color: #4ade80;
    font-size: 1.08em;
    text-align: center;
    font-weight: 700;
}

.form-error {
    color: #ff6b6b !important;
}

/* ---- íˆ¬ì ì›ì¹™ ë·° ---- */
.principle-view {
    background: rgba(37, 48, 74, 0.5); /* ë°°ê²½ íˆ¬ëª…ë„ ì¡°ì ˆ */
    border-radius: 13px;
    color: var(--text-white);
    font-size: 1.13em;
    line-height: 1.74;
    padding: 18px 20px; /* íŒ¨ë”© ì¡°ì • */
    margin-top: 10px;
    min-height: 57px;
    box-shadow: inset 0 2px 8px rgba(0,0,0,0.15); /* ë‚´ë¶€ ê·¸ë¦¼ì */
    font-weight: 600;
}

/* ìˆ˜ì • ë²„íŠ¼ì„ ë” ë²„íŠ¼ì²˜ëŸ¼ ë³´ì´ê²Œ ê°œì„  */
.principle-edit-btn {
    background: var(--dark-bg-2);
    border: 1px solid var(--primary-yellow);
    color: var(--primary-yellow);
    font-weight: 700;
    margin-left: 0; /* ì¢Œì¸¡ ì •ë ¬ */
    margin-top: 12px;
    cursor: pointer;
    font-size: 1em;
    padding: 6px 14px;
    border-radius: 8px;
    text-decoration: none; /* ë°‘ì¤„ ì œê±° */
    transition: all 0.2s ease;
}

.principle-edit-btn:hover {
    background: var(--primary-yellow);
    color: var(--dark-bg-2);
}


/* ---- AI ì•ˆë‚´ ---- */
.ai-guide {
    background: var(--dark-bg-2);
    color: var(--text-light);
    border-radius: 11px;
    padding: 18px;
    font-size: 1.05em;
    margin-bottom: 20px;
    text-align: left;
    font-weight: 600;
    box-shadow: 0 2px 9px #232a3a11;
    line-height: 1.6;
}
.card-desc {
  color: #b7caf8;        /* ì—°í•œ íŒŒë‘ ê³„ì—´ */
  font-size: 1.02em;     /* ì‚´ì§ í‚¤ìš°ê±°ë‚˜ ì›í•˜ëŠ” ìŠ¤íƒ€ì¼ ì¶”ê°€ */
  margin-bottom: 16px;   /* í•„ìš”ì‹œ ì—¬ë°±ë„ ì¶”ê°€ ê°€ëŠ¥ */
}


/* ---- ë°˜ì‘í˜• (ê¸°ì¡´ ì½”ë“œ ìœ ì§€ ë° ë¯¸ì„¸ ì¡°ì •) ---- */
@media (max-width: 680px) {
    .diary-main {
        padding: 30px 0 14vw 0;
    }
    .gh-info-bar {
        font-size: 0.99em;
        padding: 18px 7vw;
        margin: 12px 3vw 28px 3vw;
    }
    .tab-buttons {
        margin: 0 2vw 24px 2vw;
    }
    .card-box {
        padding: 30px 5vw 25px 5vw; /* íŒ¨ë”©ê°’ ì¡°ì • */
        margin-left: 2vw;
        margin-right: 2vw;
    }
}
@media (max-width: 430px) {
    .card-title {
        font-size: 1.15em; /* ëª¨ë°”ì¼ ê°€ë…ì„± ìœ„í•´ í°íŠ¸ í‚¤ì›€ */
    }
    .card-box {
        padding: 25px 5vw 20px 5vw;
    }
    .tab-btn {
        font-size: 0.95em;
        padding: 14px 0;
    }
    .goal-input, .principle-input {
        padding: 14px;
        font-size: 1em;
    }
    .goal-form-btn, .principle-btn {
        padding: 15px 0;
    }
}
  </style>
</head>
<body>
<nav class="nav">
  <!-- (index.htmlê³¼ ë™ì¼, ë„¤ë¹„ê²Œì´ì…˜ ë¶€ë¶„ ë³µì‚¬) -->
</nav>
<div style="height:66px"></div>

<div class="gh-info-bar">
  <b>GoHigherëŠ” ë‹¨ìˆœ ì±—GPT/ì±—ë´‡ì´ ì•„ë‹™ë‹ˆë‹¤.</b><br>
  <span>
    ê¸€ë¡œë²Œ ì¦ì‹œ ì‹¤ì‹œê°„ ë°ì´í„°ì™€ Google Geminië¥¼ ì§ì ‘ ì—°ë™í•´,<br>
    <b>ìµœì‹  íˆ¬ì ë‰´ìŠ¤Â·ì£¼ê°€Â·ETF íŠ¸ë Œë“œì™€ ë‹¹ì‹ ì˜ ë°ì´í„°</b>ë¥¼ ê²°í•©í•œ<br>
    <span style="color:#ffe066;">ì§„ì§œ 'ì‹¤ì „í˜•' ë§ì¶¤ AI ë¶„ì„</span>ì„ ì œê³µí•©ë‹ˆë‹¤.<br>
    <span style="font-size:0.97em;">GPT-4ë§Œ ì“°ëŠ” ì„œë¹„ìŠ¤ë³´ë‹¤ í›¨ì”¬ ë” <b>ì‹¤ì‹œê°„, ì‹œì¥ ë°˜ì˜, ë§ì¶¤í˜•</b>ì…ë‹ˆë‹¤.</span>
  </span>
</div>

<div class="diary-main">
  <div class="tab-buttons">
    <button class="tab-btn active" id="tabGoal">ìì‚° ëª©í‘œ</button>
    <button class="tab-btn" id="tabPrinciple">íˆ¬ì ì›ì¹™</button>
    <button class="tab-btn" id="tabAIPort">AI í¬íŠ¸í´ë¦¬ì˜¤ ì§„ë‹¨</button>
    <button class="tab-btn" id="tabAIRoadmap">AI ìì‚° ë¡œë“œë§µ</button>
  </div>
  <!-- ìì‚°ëª©í‘œ ì¹´ë“œ -->
  <div class="card-box" id="goalCard">
    <div class="card-title">ğŸ“ˆ ë‚˜ì˜ ìì‚° ëª©í‘œ</div>
    <p class="card-desc">ë§ˆì´í˜ì´ì§€ì—ì„œë„ í™•ì¸ ê°€ëŠ¥</p>
    <form id="goalForm">
      <label for="goalAmount" class="form-label">ëª©í‘œ ê¸ˆì•¡ (ì›)</label>
      <input type="number" id="goalAmount" class="goal-input" min="1" placeholder="ì˜ˆ) 10,000,000" required />
      <label for="currentAmount" class="form-label">í˜„ì¬ ìì‚° (ì›)</label>
      <input type="number" id="currentAmount" class="goal-input" min="0" placeholder="ì˜ˆ) 1,000,000" required />
      <button type="submit" class="goal-form-btn">ëª©í‘œ ì €ì¥</button>
      <div id="goalFormMessage" class="form-message"></div>
    </form>
  </div>
  <!-- íˆ¬ìì›ì¹™ ì¹´ë“œ -->
  <div class="card-box" id="principleCard" style="display:none;">
    <div class="card-title">ğŸ’¡ ë‚˜ë§Œì˜ íˆ¬ì ì›ì¹™</div>
    <form id="principleForm" style="display:block;">
      <label for="principleText" class="form-label">ë‚´ê°€ ì§€í‚¤ê³  ì‹¶ì€ íˆ¬ì ì² í•™, ì›ì¹™, ì¢Œìš°ëª…</label>
      <textarea id="principleText" class="principle-input" rows="5" maxlength="500" placeholder="ì˜ˆ) ë‚˜ëŠ” ì¥ê¸° ë¶„ì‚° íˆ¬ìì— ì§‘ì¤‘í•œë‹¤. ê°ì •ì ì¸ ë§¤ë§¤ë¥¼ í”¼í•˜ê³  ë§¤ë‹¬ ë¦¬ë°¸ëŸ°ì‹± ì ê²€ì„ í•œë‹¤." required></textarea>
      <button type="submit" class="principle-btn">ì›ì¹™ ì €ì¥</button>
      <div id="principleFormMessage" class="form-message"></div>
    </form>
    <div id="principleView" class="principle-view" style="display:none;"></div>
    <button id="principleEditBtn" class="principle-edit-btn" style="display:none;">âœï¸ ìˆ˜ì •</button>
  </div>
<!-- AI í¬íŠ¸í´ë¦¬ì˜¤ ì§„ë‹¨ ì¹´ë“œ -->
<div class="card-box" id="aiPortfolioCard" style="display:none;">
  <div class="card-title">ğŸ¤– AI í¬íŠ¸í´ë¦¬ì˜¤ ì§„ë‹¨</div>
  <div class="ai-guide">
    í˜„ì¬ í¬íŠ¸í´ë¦¬ì˜¤ë¥¼ ì…ë ¥í•˜ì‹œë©´,<br>
    <b>AIê°€ ìµœì‹  ë°ì´í„°ë¡œ ë¦¬ìŠ¤í¬, ì„±ì¥ì„±, ì—…ì¢…Â·ì¢…ëª© í¸ì¤‘</b>ê¹Œì§€ ë¶„ì„ í›„<br>
    <span style="color:#ffe066;">ì•ìœ¼ë¡œì˜ ì „ëµ ë°©í–¥ì„±ì„ êµ¬ì²´ì ìœ¼ë¡œ ì œì•ˆí•´ë“œë¦½ë‹ˆë‹¤.</span>
    <br><br>
    <span style="color:#b7caf8; font-size:0.97em;">
      ì˜ˆì‹œ: <b>ì• í”Œ 30%, í…ŒìŠ¬ë¼ 20%, íŒ”ë€í‹°ì–´ 15%, ë‚˜ë¨¸ì§€ í˜„ê¸ˆ 35%</b>
    </span>
  </div>
  <form id="aiPortForm">
    <textarea class="principle-input" id="aiPortText" rows="4" maxlength="300"
      placeholder="ë³´ìœ  ì¢…ëª©(ë˜ëŠ” ETF), ë¹„ì¤‘/ê¸ˆì•¡ ë“± ììœ ë¡­ê²Œ ì…ë ¥í•´ ì£¼ì„¸ìš”.&#10;ì˜ˆ: ì• í”Œ 30%, í…ŒìŠ¬ë¼ 20%, QQQ 10%, í˜„ê¸ˆ 40% ë“±"></textarea>
    <button class="goal-form-btn" type="submit" disabled>AI ë¶„ì„ ìš”ì²­</button>

    <div id="aiPortResult" style="margin-top:17px;"></div>
  </form>
</div>

<!-- AI ìì‚° ë¡œë“œë§µ ì¹´ë“œ -->
<div class="card-box" id="aiRoadmapCard" style="display:none;">
  <div class="card-title">ğŸ§­ AI ìì‚° ë¡œë“œë§µ</div>
  <div class="ai-guide">
    í˜„ì¬ ìì‚° ìƒíƒœ, ì›” íˆ¬ì ê°€ëŠ¥ ê¸ˆì•¡, ëª©í‘œë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”.<br>
    <span style="color:#ffe066;">AIê°€ ë‹¹ì‹ ë§Œì„ ìœ„í•œ ì‹¤ì „ ë¡œë“œë§µê³¼ ì „ëµì„ ì œì‹œí•©ë‹ˆë‹¤.</span>
    <br><br>
    <span style="color:#b7caf8; font-size:0.97em;">
      ì˜ˆì‹œ: í˜„ê¸ˆ 200ë§Œì›, ë¯¸êµ­ì£¼ì‹ 600ë§Œì›(ë§ˆì´í¬ë¡œì†Œí”„íŠ¸ 50%, êµ¬ê¸€ 50%),<br>
      ì›” íˆ¬ì ê°€ëŠ¥ ê¸ˆì•¡ 30ë§Œì›, ëª©í‘œ: 3ë…„ í›„ 2,000ë§Œì›
    </span>
  </div>
  <form id="aiRoadmapForm">
<input type="text" id="roadmapAssetState" class="goal-input" placeholder="í˜„ì¬ ìì‚° ìƒíƒœ (ì˜ˆ: í˜„ê¸ˆ 200ë§Œì›, ë¯¸êµ­ì£¼ì‹ 600ë§Œì› ë“±)">
<input type="number" id="roadmapMonthlyInvest" class="goal-input" placeholder="ì›” íˆ¬ì ê°€ëŠ¥ ê¸ˆì•¡ (ì˜ˆ: 300000)">
<input type="text" id="roadmapGoal" class="goal-input" placeholder="ëª©í‘œ (ì˜ˆ: 3ë…„ í›„ 2,000ë§Œì›)">
<button class="goal-form-btn" type="submit">AI ë¶„ì„ ìš”ì²­</button>

    <div id="aiRoadmapResult" style="margin-top:15px;"></div>
  </form>
</div>
</div>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<script>
  // Firebase ì„¤ì •
  const firebaseConfig = {
    apiKey: "AIzaSyCgFLtAo8LETpHq44hxlT7QigCbIltk-Zk",
    authDomain: "gohigher-55e51.firebaseapp.com",
    projectId: "gohigher-55e51",
    storageBucket: "gohigher-55e51.appspot.com",
    messagingSenderId: "487435343721",
    appId: "1:487435343721:web:dc5708c3a263214fba4ff8",
    measurementId: "G-KQ02L8DXG0"
  };
  if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  const db = firebase.firestore();

  // ======= íƒ­ UI (ê¸°ì¡´ê³¼ ë™ì¼) =======
  const tabs = [
    { btn: document.getElementById('tabGoal'), card: document.getElementById('goalCard') },
    { btn: document.getElementById('tabPrinciple'), card: document.getElementById('principleCard') },
    { btn: document.getElementById('tabAIPort'), card: document.getElementById('aiPortfolioCard') },
    { btn: document.getElementById('tabAIRoadmap'), card: document.getElementById('aiRoadmapCard') }
  ];
  tabs.forEach((tab, idx) => {
    tab.btn.onclick = () => {
      tabs.forEach((t, i) => {
        t.btn.classList.toggle('active', i === idx);
        t.card.style.display = (i === idx ? '' : 'none');
      });
      // íƒ­ ì „í™˜ ì‹œ ê²°ê³¼ ìƒˆë¡œê³ ì¹¨
      if(idx === 2) loadPortfolioAnalysis(); // í¬íŠ¸í´ë¦¬ì˜¤ ì§„ë‹¨ íƒ­
      if(idx === 3) loadAssetRoadmap();      // ìì‚° ë¡œë“œë§µ íƒ­
    };
  });

  // ======= AI ë¶„ì„ ê²°ê³¼ Firestoreì—ì„œ ë¶ˆëŸ¬ì˜¤ê¸° =======

  // 1. í¬íŠ¸í´ë¦¬ì˜¤ ì§„ë‹¨
  async function loadPortfolioAnalysis() {
    const user = auth.currentUser;
    const resultDiv = document.getElementById('aiPortResult');
    if (!user) {
      resultDiv.innerHTML = "<span style='color:#ff6b6b;'>ë¡œê·¸ì¸ í›„ ì´ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.</span>";
      return;
    }
    try {
      const doc = await db.collection('users').doc(user.uid).get();
      const d = doc.data();
      if (d && d.aiPortfolioAnalysis) {
        resultDiv.innerHTML = `
          <div style="background:#232a3c;padding:19px 16px 15px 16px;border-radius:11px;color:#ffe066;font-weight:700;line-height:1.6;margin-top:7px;box-shadow:0 2px 9px #232a3a11">
            ${d.aiPortfolioAnalysis.replace(/\n/g, '<br>')}
          </div>`;
      } else {
        resultDiv.innerHTML = "<span style='color:#b7caf8;'>ì•„ì§ ë¶„ì„ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.<br>AI ë¶„ì„ ìš”ì²­ í›„ ì´ê³³ì— ê²°ê³¼ê°€ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.</span>";
      }
    } catch(e) {
      resultDiv.innerHTML = "<span style='color:#ff6b6b;'>ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.</span>";
    }
  }

  // 2. ìì‚° ë¡œë“œë§µ
  async function loadAssetRoadmap() {
    const user = auth.currentUser;
    const resultDiv = document.getElementById('aiRoadmapResult');
    if (!user) {
      resultDiv.innerHTML = "<span style='color:#ff6b6b;'>ë¡œê·¸ì¸ í›„ ì´ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.</span>";
      return;
    }
    try {
      const doc = await db.collection('users').doc(user.uid).get();
      const d = doc.data();
      if (d && d.aiAssetRoadmap) {
        resultDiv.innerHTML = `
          <div style="background:#232a3c;padding:19px 16px 15px 16px;border-radius:11px;color:#ffe066;font-weight:700;line-height:1.6;margin-top:7px;box-shadow:0 2px 9px #232a3a11">
            ${d.aiAssetRoadmap.replace(/\n/g, '<br>')}
          </div>`;
      } else {
        resultDiv.innerHTML = "<span style='color:#b7caf8;'>ì•„ì§ ë¶„ì„ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.<br>AI ë¶„ì„ ìš”ì²­ í›„ ì´ê³³ì— ê²°ê³¼ê°€ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.</span>";
      }
    } catch(e) {
      resultDiv.innerHTML = "<span style='color:#ff6b6b;'>ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.</span>";
    }
  }

  // ë¡œê·¸ì¸ í›„ ìë™ìœ¼ë¡œ ë¶„ì„ ê²°ê³¼ ë¶ˆëŸ¬ì˜¤ê¸°
  auth.onAuthStateChanged(async user => {
    if (!user) return;
    // ... (ê¸°ì¡´ ìì‚°ëª©í‘œ/íˆ¬ìì›ì¹™ ë¶ˆëŸ¬ì˜¤ê¸°)
    loadPortfolioAnalysis();
    loadAssetRoadmap();
  });

  // ======= ìì‚°ëª©í‘œ ì €ì¥ =======
  document.getElementById('goalForm').onsubmit = async function(e) {
    e.preventDefault();
    const goalInput = document.getElementById('goalAmount');
    const currentInput = document.getElementById('currentAmount');
    const message = document.getElementById('goalFormMessage');
    message.textContent = '';
    message.classList.remove('form-error');
    const goal = Number(goalInput.value.replace(/,/g,''));
    const current = Number(currentInput.value.replace(/,/g,''));
    const user = auth.currentUser;
    if (!user) {
      message.textContent = "ë¡œê·¸ì¸ í›„ ì´ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.";
      message.classList.add('form-error');
      return;
    }
    if (!goal || goal < 1 || !current || current < 0) {
      message.textContent = "ì˜¬ë°”ë¥¸ ê¸ˆì•¡ì„ ì…ë ¥í•˜ì„¸ìš”.";
      message.classList.add('form-error');
      return;
    }
    try {
      await db.collection('users').doc(user.uid).set({
        goalAmount: goal,
        currentAmount: current
      }, { merge: true });
      message.textContent = "ëª©í‘œê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!";
      //goalInput.value = '';
      //currentInput.value = '';
    } catch(e) {
      message.textContent = "ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.";
      message.classList.add('form-error');
    }
  };

  // ======= íˆ¬ìì›ì¹™ ì €ì¥/ë¶ˆëŸ¬ì˜¤ê¸° =======
  let principleView = document.getElementById('principleView');
  let principleForm = document.getElementById('principleForm');
  let principleEditBtn = document.getElementById('principleEditBtn');
  function showPrincipleEdit(show) {
    principleForm.style.display = show ? 'block' : 'none';
    principleView.style.display = show ? 'none' : 'block';
    principleEditBtn.style.display = show ? 'none' : 'inline-block';
  }
  principleEditBtn.onclick = () => showPrincipleEdit(true);

  document.getElementById('principleForm').onsubmit = async function(e) {
    e.preventDefault();
    const textarea = document.getElementById('principleText');
    const text = textarea.value.trim();
    const msg = document.getElementById('principleFormMessage');
    msg.textContent = '';
    msg.classList.remove('form-error');
    const user = auth.currentUser;
    if (!user) {
      msg.textContent = "ë¡œê·¸ì¸ í›„ ì´ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.";
      msg.classList.add('form-error');
      return;
    }
    if (text.length < 3) {
      msg.textContent = "ë„ˆë¬´ ì§§ìŠµë‹ˆë‹¤. (ìµœì†Œ 3ì ì´ìƒ)";
      msg.classList.add('form-error');
      return;
    }
    try {
      await db.collection('users').doc(user.uid).set({ investmentPrinciple: text }, { merge: true });
      msg.textContent = "íˆ¬ì ì›ì¹™ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!";
      //textarea.value = '';
      setTimeout(() => {
        showPrinciple(text);
      }, 400);
    } catch(e) {
      msg.textContent = "ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.";
      msg.classList.add('form-error');
    }
  };

  // ë¶ˆëŸ¬ì˜¤ê¸° ë° ë·°/ìˆ˜ì • ëª¨ë“œ ë¶„ê¸°
  function showPrinciple(text) {
    principleView.textContent = text;
    showPrincipleEdit(false);
  }

  // ======= ë¡œê·¸ì¸ ê°ì§€: ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸° =======
  auth.onAuthStateChanged(async user => {
    if (!user) return;
    // ìì‚°ëª©í‘œ ë¶ˆëŸ¬ì˜¤ê¸°
    const doc = await db.collection('users').doc(user.uid).get();
    if (doc.exists) {
      const d = doc.data();
      if (typeof d.goalAmount === 'number') document.getElementById('goalAmount').value = d.goalAmount;
      if (typeof d.currentAmount === 'number') document.getElementById('currentAmount').value = d.currentAmount;
      // íˆ¬ìì›ì¹™ ë¶ˆëŸ¬ì˜¤ê¸°
      if (typeof d.investmentPrinciple === 'string' && d.investmentPrinciple.length > 1) {
        showPrinciple(d.investmentPrinciple);
      } else {
        showPrincipleEdit(true);
      }
    } else {
      showPrincipleEdit(true);
    }
  });
</script>

<script> //í¬í´ì§„ë‹¨.py
// --- AI í¬íŠ¸í´ë¦¬ì˜¤ ì§„ë‹¨ ê¸°ëŠ¥ ì—°ê²° ---
// 1) ì…ë ¥ê°’ ìˆì„ ë•Œ ë²„íŠ¼ í™œì„±í™”
const aiPortText = document.getElementById('aiPortText');
const aiPortBtn = document.querySelector('#aiPortForm .goal-form-btn');
aiPortText.addEventListener('input', function() {
  aiPortBtn.disabled = !this.value.trim();
});

// 2) í¼ ì œì¶œ ì´ë²¤íŠ¸
document.getElementById('aiPortForm').onsubmit = async function(e) {
  e.preventDefault();
  aiPortBtn.disabled = true;
  const input = aiPortText.value.trim();
  const resultDiv = document.getElementById('aiPortResult');
  resultDiv.innerHTML = "<span style='color:#b7caf8;'>AIê°€ ë¶„ì„ ì¤‘ì…ë‹ˆë‹¤...</span>";
  try {
    const res = await fetch("http://localhost:8000/ai/portfolio", { // ì‹¤ì œ ë°°í¬ ì‹œ ì£¼ì†Œ ë³€ê²½!
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ portfolio: input })
    });
    const data = await res.json();
    if(data.result){
      resultDiv.innerHTML = `
        <div style="background:#232a3c;padding:19px 16px 15px 16px;border-radius:11px;color:#ffe066;font-weight:700;line-height:1.6;margin-top:7px;box-shadow:0 2px 9px #232a3a11">
          ${data.result.replace(/\n/g, '<br>')}
        </div>`;
      // (ì„ íƒ) ë¡œê·¸ì¸ ëœ ê²½ìš°, Firestoreì—ë„ ê²°ê³¼ ì €ì¥
      if(window.firebase && firebase.auth().currentUser){
        const uid = firebase.auth().currentUser.uid;
        await firebase.firestore().collection('users').doc(uid).set({
          aiPortfolioAnalysis: data.result
        }, { merge:true });
      }
    } else {
      resultDiv.innerHTML = "<span style='color:#ff6b6b;'>AI ë¶„ì„ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.</span>";
    }
  } catch(err){
    resultDiv.innerHTML = "<span style='color:#ff6b6b;'>ì„œë²„ ì˜¤ë¥˜: ë¶„ì„ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.</span>";
  }
  aiPortBtn.disabled = false;
};
</script>




<script>//ë¡œë“œë§µ.py
// ---- AI ìì‚° ë¡œë“œë§µ: ë²„íŠ¼ í™œì„±í™” & ë¶„ì„ ìš”ì²­ ----
const roadmapForm = document.getElementById('aiRoadmapForm');
const assetStateInput = document.getElementById('roadmapAssetState');
const monthlyInvestInput = document.getElementById('roadmapMonthlyInvest');
const goalInput = document.getElementById('roadmapGoal');
const roadmapBtn = roadmapForm.querySelector('.goal-form-btn');

// ì…ë ¥ê°’ì´ ë‹¤ ë“¤ì–´ì™€ì•¼ ë²„íŠ¼ í™œì„±í™”
function checkRoadmapBtn() {
  roadmapBtn.disabled = !(
    assetStateInput.value.trim() &&
    monthlyInvestInput.value.trim() &&
    goalInput.value.trim()
  );
}
[assetStateInput, monthlyInvestInput, goalInput].forEach(el => {
  el.addEventListener('input', checkRoadmapBtn);
});
checkRoadmapBtn();

roadmapForm.onsubmit = async function(e) {
  e.preventDefault();
  roadmapBtn.disabled = true;
  const resultDiv = document.getElementById('aiRoadmapResult');
  resultDiv.innerHTML = "<span style='color:#b7caf8;'>AIê°€ ë¡œë“œë§µì„ ì‘ì„± ì¤‘ì…ë‹ˆë‹¤...</span>";
  try {
    const res = await fetch("http://localhost:8000/ai/roadmap", { // ìš´ì˜ì‹œ URL ë³€ê²½
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        asset_state: assetStateInput.value.trim(),
        monthly_invest: monthlyInvestInput.value.trim(),
        goal: goalInput.value.trim()
      })
    });
    const data = await res.json();
    if(data.result){
      resultDiv.innerHTML = `
        <div style="background:#232a3c;padding:19px 16px 15px 16px;border-radius:11px;color:#ffe066;font-weight:700;line-height:1.6;margin-top:7px;box-shadow:0 2px 9px #232a3a11">
          ${data.result.replace(/\n/g, '<br>')}
        </div>`;
      // (ì„ íƒ) Firestoreì—ë„ ê²°ê³¼ ì €ì¥
      if(window.firebase && firebase.auth().currentUser){
        const uid = firebase.auth().currentUser.uid;
        await firebase.firestore().collection('users').doc(uid).set({
          aiAssetRoadmap: data.result
        }, { merge:true });
      }
    } else {
      resultDiv.innerHTML = "<span style='color:#ff6b6b;'>AI ë¶„ì„ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.</span>";
    }
  } catch(err){
    resultDiv.innerHTML = "<span style='color:#ff6b6b;'>ì„œë²„ ì˜¤ë¥˜: ë¶„ì„ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.</span>";
  }
  roadmapBtn.disabled = false;
};
</script>



</body>
</html>
