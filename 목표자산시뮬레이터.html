<html lang="ko" class="no-js">
<head>
  <script>
    document.documentElement.classList.remove("no-js");
    document.documentElement.classList.add("js");
  </script>
  
  <meta charset="UTF-8">
  <!-- 외부 서버 연결 미리 하기 -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
  <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>

  <!-- 리소스 미리 불러오기 -->
  <link rel="preload" as="style" href="https://fonts.googleapis.com/css?family=Roboto:400,500,700|Open+Sans:400,600&display=swap" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,500,700|Open+Sans:400,600&display=swap"></noscript>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>  
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>

  <!-- 페이지 제목 및 메타데이터 -->
  <title>목표 기반 자산 시뮬레이터</title>
  <meta name="description" content="전문가들이 추천하는 실적 대비 저평가 미국 주식! 반등 신호가 포착된 우량주 TOP 5와 ETF 투자 기회, 지금 바로 확인하세요.">
  <link rel="canonical" href="https://gohigher.kr/큐레이션.html">
  <link rel="icon" href="https://gohigher.kr/logo.jpg" type="image/jpeg">
  <meta name="keywords" content="유명인포폴, 투자기관, 헤지펀드, 포트폴리오, gohigher">
  <meta name="robots" content="index,follow">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- 구글 폰트, 차트.js, 플러그인, Font Awesome -->
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,500,700|Open+Sans:400,600&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
    <!-- [추가] Font Awesome 아이콘 CDN -->
    <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
    integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
  />  
  <meta name="naver-site-verification" content="daa71973aba155bc2d96dfde44d8fb34b6a74ba7" />
  <meta name="google-site-verification" content="GGuWsc5cbeYC9W0nQsN7550kWcUzArKuo3zfhjN5LXE" />
  <meta property="og:title" content="지금 사야 할 미국 저평가 주식 TOP 5 | 반등 기회 잡아라!" />
  <meta property="og:description" content="전문가들이 추천하는 실적 대비 저평가 미국 주식! 반등 신호가 포착된 우량주 TOP 5와 ETF 투자 기회, 지금 바로 확인하세요." />
  <meta property="og:url" content="https://gohigher.kr/버크셔해서웨이.html" />
  <meta property="og:type" content="website" />
  <meta property="og:locale" content="ko_KR" />
  <meta property="og:image" content="https://gohigher.kr/logo.jpg" />
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="지금 사야 할 미국 저평가 주식 TOP 5 | 반등 기회 잡아라!">
  <meta name="twitter:description" content="전문가들이 추천하는 실적 대비 저평가 미국 주식! 반등 신호가 포착된 우량주 TOP 5와 ETF 투자 기회, 지금 바로 확인하세요.">
  <meta name="twitter:image" content="https://gohigher.kr/logo.jpg">
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Article",
      "headline": "지금 사야 할 미국 저평가 주식 TOP 5 | 반등 기회 잡아라!",
      "author": {
        "@type": "Organization",
        "name": "Go Higher"
      },
      "publisher": {
        "@type": "Organization",
        "name": "Go Higher",
        "logo": {
          "@type": "ImageObject",
          "url": "https://gohigher.kr/logo.jpg"
        }
      },
      "description": "전문가들이 추천하는 실적 대비 저평가 미국 주식! 반등 신호가 포착된 우량주 TOP 5와 ETF 투자 기회, 지금 바로 확인하세요.",
      "url": "https://gohigher.kr/배당주.html",
      "datePublished": "2025-04-05",
      "inLanguage": "ko"
    }
  </script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body { font-family: 'Open Sans', sans-serif; background: #f4f7fa; color: #333; margin: 0; padding: 0; }
    header { background: #004080; color: #fff; padding: 1rem; text-align: center; position: relative; }
    header a { color: #fff; text-decoration: none; font-size: 0.9rem; position: absolute; left: 1rem; top: 1.2rem; }
    main { max-width: 1024px; margin: 2rem auto; padding: 0 1rem; display: flex; gap: 2rem; }
    .form-container { background: #fff; padding: 1.5rem; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); flex: 2; }
    .form-container label { display: block; margin-bottom: 1rem; font-weight: 500; }
    .form-container input { width: 100%; padding: 0.5rem; margin-top: 0.3rem; border: 1px solid #ccc; border-radius: 4px; }
    #simulateBtn { display: block; width: 100%; padding: 0.7rem; background: #0059b3; color: #fff; font-size: 1rem; border: none; border-radius: 4px; cursor: pointer; margin-top: 1rem; }
    #simulateBtn:hover { background: #004080; }
    .chart-container { margin-top: 2rem; background: #fff; padding: 1rem; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
    .sidecard { flex: 1; background: #fff; border-radius: 8px; padding: 1rem; box-shadow: 0 2px 6px rgba(0,0,0,0.1); position: sticky; top: 2rem; }
    .sidecard.success { background: #e0f8e0; }
    .sidecard.failure { background: #fff0f0; border-left: 5px solid #ff5c5c; }
    .sidecard canvas { width: 100%; height: auto; margin-bottom: 1rem; }
    .sidecard h3 { margin-top: 0; font-size: 1.1rem; color: #004080; }
    .sidecard p { font-size: 0.95rem; line-height: 1.6; white-space: pre-line; }
    .sidecard .recommend-box { background: #fff7e6; border-left: 4px solid #f0a500; padding: 0.8rem; margin-top: 1rem; border-radius: 6px; }
    .sidecard .recommend-box strong { display: block; margin-bottom: 0.4rem; color: #c15c00; }

        /* Mobile Optimization for max-width: 768px */
        @media (max-width: 768px) {
      main { flex-direction: column; gap: 1.5rem; }
      .sidecard { position: relative; top: auto; margin-top: 1rem; }
      header h1 { font-size: 1.3rem; }
      header a { font-size: 0.8rem; left: 0.5rem; top: 1rem; }
      .form-container { padding: 1rem; }
      .form-container label { margin-bottom: 0.8rem; }
      #simulateBtn { font-size: 0.9rem; padding: 0.6rem; }
    }

    /* —————————————————————————————————————————————— */
/* 다크모드 전용 오버라이드 */
/* body.dark-mode 클래스가 있을 때만 적용됩니다. */
/* —————————————————————————————————————————————— */
/* —————————————————————————————————————————————— */
/* 다크모드 오버라이드 (참고 페이지 톤으로 조정) */
/* —————————————————————————————————————————————— */
:root {
  --dm-section-bg: #444;      /* 섹션 배경(구역별) */
  --dm-card-bg:    #333;      /* 카드/컨테이너 */
  --dm-input-bg:   #3a3a3a;   /* 입력 필드 */
  --dm-border:     #555;      /* 테두리 선 */
  --dm-text:       #cacaca;   /* 기본 텍스트 */
  --dm-muted:      #aaa;      /* 부차 텍스트 */
  --dm-success:    #304230;   /* 성공 배경 */
  --dm-failure:    #4a2a2a;   /* 실패 배경 */
  --dm-recommend:  #3a331f;   /* 추천 박스 배경 */
}

/* 페이지 배경 & 기본 텍스트 */
body.dark-mode {
  background: url('backgroundD.png') no-repeat center center;
  background-size: cover;
  color: var(--dm-text);
}

/* 헤더 */
body.dark-mode header {
  background: linear-gradient(135deg, #002b57, #004284);
  color: var(--dm-text);
}
body.dark-mode header a {
  color: var(--dm-muted);
}

/* 메인 컨테이너(폼/차트) */
body.dark-mode .form-container,
body.dark-mode .chart-container {
  background: var(--dm-card-bg);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.6);
}

/* 라벨 & 인풋 */
body.dark-mode .form-container label {
  color: var(--dm-text);
}
body.dark-mode .form-container input {
  background: var(--dm-input-bg);
  border: 1px solid var(--dm-border);
  color: var(--dm-text);
}

/* 실행 버튼 */
body.dark-mode #simulateBtn {
  background: linear-gradient(135deg, #0059b3, #004080);
  color: #fff;
}
body.dark-mode #simulateBtn:hover {
  background: linear-gradient(135deg, #004080, #0059b3);
}

/* 사이드카드 */
body.dark-mode .sidecard {
  background: var(--dm-card-bg);
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.6);
  color: var(--dm-text);
}
body.dark-mode .sidecard.success {
  background: var(--dm-success);
}
body.dark-mode .sidecard.failure {
  background: var(--dm-failure);
  border-left: 5px solid #ff5c5c;
}
body.dark-mode .sidecard h3 {
  color: #85b4e6;
}

/* 추천 박스 */
body.dark-mode .recommend-box {
  background: var(--dm-recommend);
  border-left: 4px solid #f0a500;
  color: #e0c674;
}

/* 푸터 (필요 시) */
body.dark-mode footer {
  background: linear-gradient(135deg, #002b57, #004284);
  color: var(--dm-text);
}

  </style>
</head>
<body>
<header>
  <a href="큐레이션.html">← 돌아가기</a>
  <h1>목표 기반 자산 시뮬레이터</h1>
</header>
<main>
  <div class="form-container">
    <label>목표 금액 (원)<input id="goalAmount" type="text" value="100,000,000"></label>
    <label>목표 연도<input id="goalYear" type="number" value="2030"></label>
    <label>현재 자산 (원)<input id="currentAmount" type="text" value="20,000,000"></label>
    <label>월 투자금액 (원)<input id="monthlyAmount" type="text" value="300,000"></label>
    <label>연 기대 수익률 (%)<input id="annualRate" type="number" step="0.1" value="7"></label>
    <button id="simulateBtn">시뮬레이션 실행</button>
    <div class="chart-container"><canvas id="assetChart"></canvas></div>
  </div>
  <aside class="sidecard" id="strategyCard">
    <canvas id="strategyGauge"></canvas>
    <h3>📌 전략 수정 가이드</h3>
    <p id="strategyDetails">먼저 시뮬레이션을 실행해주세요.</p>
  </aside>
</main>
<script>
function setupCommaInput(id) {
  const input = document.getElementById(id);
  input.addEventListener('input', () => {
    let v = input.value.replace(/,/g, '').replace(/[^\d]/g, '');
    input.value = v ? v.replace(/\B(?=(\d{3})+(?!\d))/g, ',') : '';
  });
}
['goalAmount','currentAmount','monthlyAmount'].forEach(setupCommaInput);

let assetChart, gaugeChart, dataTarget = [];
document.getElementById('simulateBtn').addEventListener('click', () => {
  const goal = Number(document.getElementById('goalAmount').value.replace(/,/g,'') || 0);
  const goalYear = +document.getElementById('goalYear').value;
  const current = Number(document.getElementById('currentAmount').value.replace(/,/g,'') || 0);
  const monthly = Number(document.getElementById('monthlyAmount').value.replace(/,/g,'') || 0);
  const rate = +document.getElementById('annualRate').value;

  const nowYear = new Date().getFullYear();
  const years = goalYear - nowYear;
  const strategyCard = document.getElementById('strategyCard');
  const strategyEl = document.getElementById('strategyDetails');
  strategyCard.classList.remove('success','failure');
  strategyEl.textContent = '';

  if (years <= 0) {
    strategyEl.textContent = '⚠️ 목표 연도를 내년 이후로 설정해주세요.';
    strategyCard.classList.add('failure');
    return;
  }

  const months = years * 12;
  const r = rate / 100 / 12;
  function simulate(P0, m, n) {
    const arr = [P0]; let P = P0;
    for (let i = 1; i <= n; i++) {
      P = P * (1 + r) + m;
      if (i % 12 === 0) arr.push(P);
    }
    return arr;
  }

  const dataActual = simulate(current, monthly, months);
  const factor = r === 0 ? 0 : Math.pow(1 + r, months);
  const requiredMonthly = r === 0 
    ? (goal - current) / months 
    : (goal - current * factor) * r / (factor - 1);

  const percent = requiredMonthly > 0 ? Math.min(monthly / requiredMonthly * 100, 100) : 100;
  const gaugeCtx = document.getElementById('strategyGauge').getContext('2d');
  if (gaugeChart) gaugeChart.destroy();
  gaugeChart = new Chart(gaugeCtx, {
    type: 'doughnut',
    data: {
      datasets: [{
        data: [percent, 100 - percent],
        backgroundColor: ['#0059b3','#e0e0e0'],
        borderWidth: 0
      }]
    },
    options: {
      responsive: true,
      cutout: '70%',
      rotation: -Math.PI/2,
      plugins: {
        tooltip: { enabled: false },
        legend: { display: false },
        beforeDraw(chart) {
          const { width, height, ctx } = chart;
          ctx.save();
          const fontSize = (height / 114).toFixed(2);
          ctx.font = `${fontSize}em Open Sans`;
          ctx.textBaseline = 'middle';
          ctx.fillStyle = '#333';
          const text = `${percent.toFixed(1)}%`,
                textX = Math.round((width - ctx.measureText(text).width) / 2),
                textY = height / 2;
          ctx.fillText(text, textX, textY);
          ctx.restore();
        }
      }
    }
  });

  if (monthly >= requiredMonthly) {
    strategyCard.classList.add('success');
    strategyEl.textContent = `✅ 전략 성공!\n이대로라면 ${years}년 후 목표 달성 가능합니다.\n\n목표 연도: ${goalYear}년\n월 투자금: ${monthly.toLocaleString()}원`;
  } else {
    strategyCard.classList.add('failure');
    let suggestion = '';
    outer: for (let addYear = 0; addYear <= 5; addYear++) {
      for (let factor = 1; factor <= 1.5; factor += 0.05) {
        const testYear = goalYear + addYear;
        const testMonths = (testYear - nowYear) * 12;
        const testFactor = r === 0 ? 0 : Math.pow(1 + r, testMonths);
        const testRequiredMonthly = r === 0
          ? (goal - current) / testMonths
          : (goal - current * testFactor) * r / (testFactor - 1);
        if (monthly * factor >= testRequiredMonthly) {
          suggestion = `
<div class="recommend-box">
  <strong>📌 추천 조합</strong>
  목표 연도: <b>${testYear}년</b><br>
  투자금 증가: <b>${(monthly * factor).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ',')}원/월</b><br>
  → 이 조합이라면 목표 달성이 가능합니다.
</div>`;
          break outer;
        }
      }
    }
    strategyEl.innerHTML = `❌ <b>전략 실패</b><br>
    목표 달성에 필요한 월 투자금: <b>${Math.ceil(requiredMonthly).toLocaleString()}원</b><br>
    현재 투자금: <b>${monthly.toLocaleString()}원</b><br>
    목표 연도: <b>${goalYear}년</b>${suggestion || '<br><br><b>❗ 유의:</b> 연장 또는 월 투자금 증가로도 목표 달성이 어려울 수 있습니다.'}`;
  }

  dataTarget = simulate(current, requiredMonthly, months);
  const labels = Array.from({ length: years + 1 }, (_, i) => nowYear + i);
  const ctx = document.getElementById('assetChart').getContext('2d');
  if (assetChart) assetChart.destroy();
  assetChart = new Chart(ctx, {
    type: 'line', data: { labels, datasets: [
      { label: '필요한 성장 곡선', data: dataTarget, borderColor: '#0059b3', fill: false },
      { label: '내 자산 성장 곡선', data: dataActual, borderColor: '#004080', fill: false }
    ]},
    options: { responsive: true, scales: { y: { ticks: { callback: val => val.toLocaleString() } } } }
  });
});

    // ──────────────────────────────
    // 다크모드 처리
    // ──────────────────────────────
    document.addEventListener('DOMContentLoaded', () => {
      const savedTheme = localStorage.getItem('theme');
      if (savedTheme === 'dark') {
        document.body.classList.add('dark-mode');
      }
    });
    
</script>
</body>
</html>
